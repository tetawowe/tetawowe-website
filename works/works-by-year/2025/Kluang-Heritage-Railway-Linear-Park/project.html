<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="../../../../header/favicon.ico">
  <title>Kluang Heritage Railway Linear Park</title>

  <!-- header.css 和 header.js -->
  <link rel="stylesheet" href="../../../../header/header.css">

  <!-- 复用 project.css -->
  <link rel="stylesheet" href="../../../../project/project.css">

  <!-- special 项目的覆盖样式 -->
  <style>
    /* meta + description 容器：左右并排，顶端对齐 */
    #meta-text-wrapper {
      display: flex;
      gap: 25px;
      align-items: flex-start;  /* 顶端对齐 */
      margin: 24px auto;
      max-width: 965px;
      margin-top: 15px;   /* 强制顶端对齐 */
    }

    #project-meta {
      flex: 0 0 230px;  /* 固定左栏宽度 */
    }

    #project-meta h2 {
      margin: 0 0 0 0;
    }

    #project-meta .value {
  margin-left: 30px;
}

    #project-text {
      flex: 1;
      margin-top: 0;   /* 强制顶端对齐 */
      font-size: 14px;
      line-height: 1.6;
      margin-top: -21px; /* 数字可以自己调，比如 -4px, -8px */
    }

    /* special-block 样式 */
    .special-block {
      max-width: 965px;
      margin: 24px auto;
    }

    .special-block img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
    }

    /* 004-1 到 004-4 的中英并排说明 */
    .special-text-wrapper {
      display: flex;
      gap: 24px;
      justify-content: space-between;
      align-items: flex-start;   /* 顶部对齐 */
      margin-top: 12px;
      font-size: 14px;
      line-height: 1.6;
    }

    .special-text-cn {
      flex: 1;
      text-align: left;
      word-break: break-word;
      max-width: 355px;
      width: 100%;
      margin-top: 35px;
      margin-bottom: 35px;
    }

    .special-text-en {
      flex: 1;
      text-align: left;
      margin-left: 25px;
      color: #555;
      word-break: break-word;
      margin-top: 35px;
      margin-bottom: 35px;
    }

    .gallery-wrapper {
      margin: 24px auto;
      max-width: 965px;
      width: 100%;
    }
    .gallery-main {
      width: 100%;
      height: 625px;
      display: block;
      margin-bottom: 16px;
    }
/* 縮略圖容器：最多兩行，每行 7 張 */
.gallery-thumbs {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  gap: 8px;
  max-width: 965px;
  margin: 0 auto;
  margin-top: -10px;
  margin-bottom: -35px;
}

/* 縮略圖 */
.gallery-thumb {
  width: 100%;
  height: 80px;         /* 固定高度 */
  object-fit: cover;
  object-position: center;
  cursor: pointer;
  transition: transform 0.2s ease, opacity 0.2s ease;
  opacity: 0.7;
}

/* hover 效果 */
.gallery-thumb:hover {
  opacity: 1;
}

/* active 效果 */
.gallery-thumb.active {
  opacity: 1;
}

    /* Lightbox 样式 */
    #lightbox {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      align-items: center;
      justify-content: center;
    }
    #lightbox img {
      max-width: 90%;
      max-height: 90%;
    }

#lightbox-close {
  position: absolute;
  top: 20px;
  right: 40px;
  font-size: 40px;
  color: #fff;
  cursor: pointer;
  user-select: none;
}

    /* 小屏幕时上下堆叠 */
    @media (max-width: 768px) {
      #meta-text-wrapper {
        flex-direction: column;
        gap: 16px;
      }

      .special-text-wrapper {
        flex-direction: column;
        gap: 8px;
      }

      .special-text-en {
        text-align: left;
      }
    }
  </style>
</head>
<body>
  <header id="header-placeholder"></header>

  <main id="project-container" class="special-main">

    <!-- 001 封面 -->
    <div id="project-first-image">
      <img src="001.jpg" alt="Kluang Heritage Railway Linear Park — Cover">
    </div>

    <!-- meta + 主描述 -->
    <div id="meta-text-wrapper">
      <div id="project-meta">
        <h2>Kluang Heritage Railway Linear Park</h2>
        <div class="label">Year</div><div class="value">2020-2025 <br> (on going)</div>
        <div class="label">Type</div><div class="value">Placemaking <br> Park / Architecture Installation</div>
        <div class="label">Team</div><div class="value">Tey Tat Sing <br> Wong Wei Ping <br> Gan Jing Wen <br> Lim Zhuan Yang <br> Alex Tan <br> Gue Yan Ting <br> Shun Li Sze <br> Teh Yong Peng </div>
        <div class="label">Location</div><div class="value">Kluang</div>
        <div class="label">Collaboration</div><div class="value">Think City <br> SD2</div>
      </div>

      <div id="project-text" style="margin-top:25px;">
        Since the Kluang Railway Station began operations in 1913, the railway heritage trail connecting cities across Johor has taken root here for at least 113 years. Running north–south, it once split Kluang in half and formed the city’s central lifeline - or perhaps it used to.<br>
In 2025, the railway underwent an upgrade: supported by new viaduct concrete structure, the tracks were lifted entirely off the ground, elevating the trains into the sky while leaving behind an empty strip of land slowly overtaken by wild grass. From today's perspective, the train is no longer the primary mode of transportation. Its relationship with the city remains deeply embedded in Kluang’s identity, yet the connection between the two has gradually faded. <br>
Faced with this unexpected and hard-won void beneath the viaduct, we are compelled to ask: how should we reimagine and respond to this newly liberated piece of urban ground? <br>
None of these changes happened overnight. To seize this opportunity, the <strong>Kluang Heritage Railway Linear Park</strong> project was first proposed as early as 2020. After five years of hardworking, Phase 01 of the Kluang Heritage Railway Linear Park officially opened, welcoming the public alongside the new KTM ETS Train.
      </div>
    </div>

    <!-- 002 普通图片 -->
    <div id="project-images">
      <img class="project-image" src="002.jpg" alt="002 — Kluang">
    </div>

    <div id="meta-text-wrapper">
    <div id="project-text" style="margin-top:25px;">
      Transforming the space beneath viaducts into usable public areas is by no means a novel idea, but in Malaysia,Kluang is set to become a precedent. Kluang is not a city lacking parks or public spaces; rather, the key challenge lies in activating the area beneath the viaduct, connecting it meaningfully to the railway and surrounding communities, and infusing it with new possibilities. Spanning a total of 2.5 kilometers, the Kluang Heritage Railway Linear Park stretches across the entire city. The overall Kluang Heritage Railway Linear Park development will encompass elements of railway heritage, community public spaces, park amenities, sports facilities, and flexible activity areas. The project seeks to reactivate the former railway corridor, establish strong connections with the surrounding neighborhoods, revitalize community spaces, and fully utilize the previously overlooked areas beneath the viaduct.<br>
      Kluang Heritage Railway Linear Park Phase 01 begins at the former Kluang Railway Station site, covering approximately 470 meters from the new Kluang Railway Station to Jalan Mersing. Focusing on integrating the former railway grounds and railway heritage with new community-oriented public spaces. Responding to the challenging terrain beneath the viaduct, the design establishes appropriate activity zones, leisure walkways, and various park amenities. The park features five accessible entry points, creating strong connections and interactions with the surrounding roads and neighborhoods while also providing parking facilities. Additionally, two future access points have been reserved (currently unopened) allowing seamless integration with the upcoming phases of the Railway Park development.
    </div>
    </div>
    </div>
    
    <!-- 003 普通图片 -->
    <div id="project-images">
      <img class="project-image" src="003.jpg" alt="003 — Kluang">
    </div>

    <!-- Gallery 1 -->
<div id="gallery-1"></div>

    <div id="project-images">
      <img class="project-image" src="012.jpg" alt="012 — Kluang">
    </div>



  <div id="lightbox">
    <span id="lightbox-close">&times;</span>
  <img src="" alt="Lightbox Image">
</div>

  </main>

  <script src="../../../../header/header.js">  </script>

    <script>
  // 图片分组
  const gallery1 = ["004.jpg","005.jpg","006.jpg","007.jpg","008.jpg","009.jpg","010.jpg","011.jpg"];

  // 渲染 gallery 函数
  function renderGallery(imgList, containerId) {
    if (!imgList || imgList.length === 0) return;

    const galleryWrapper = document.createElement("div");
    galleryWrapper.className = "gallery-wrapper";

    // 大图
    const mainImg = document.createElement("img");
    mainImg.className = "gallery-main";
    mainImg.src = imgList[0];
    galleryWrapper.appendChild(mainImg);

    // 缩略图
    const thumbs = document.createElement("div");
    thumbs.className = "gallery-thumbs";

    imgList.forEach((src, index) => {
      const thumb = document.createElement("img");
      thumb.src = src;
      thumb.className = "gallery-thumb";
      if (index === 0) thumb.classList.add("active");

      thumb.addEventListener("click", () => {
        mainImg.src = src;
        thumbs.querySelectorAll(".gallery-thumb").forEach(t => t.classList.remove("active"));
        thumb.classList.add("active");
      });

      thumbs.appendChild(thumb);
    });

    galleryWrapper.appendChild(thumbs);

    // 插入到对应容器
    document.getElementById(containerId).appendChild(galleryWrapper);
  }

  // 渲染三个 gallery
  renderGallery(gallery1, "gallery-1");

  // 调整普通项目图片间距
  function adjustProjectImage() {
    const images = document.querySelectorAll(".project-image");
    if (!images.length) return;

    images.forEach(img => {
      const topContentHeight = img.getBoundingClientRect().top + window.scrollY;

      if (topContentHeight < 900) {
        img.style.marginTop = (950 - topContentHeight) + "px";
      } else {
        img.style.marginTop = "50px";
      }
    });
  }

  window.addEventListener("load", adjustProjectImage);
  window.addEventListener("resize", adjustProjectImage);



  // Lightbox 功能 - 所有大图
  function enableLightbox() {
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = lightbox.querySelector("img");

    // 选择所有大图
    const allBigImages = document.querySelectorAll(
      "#project-first-image img, .project-image, .special-block img, .gallery-main"
    );

    allBigImages.forEach(img => {
      img.style.cursor = "pointer";
      img.addEventListener("click", () => {
        lightboxImg.src = img.src;
        lightbox.style.display = "flex";
      });
    });

    // 点击背景关闭
    lightbox.addEventListener("click", (e) => {
      if (e.target === lightbox) lightbox.style.display = "none";
    });
  }
  enableLightbox();

function adjustProjectImage() {
  const images = document.querySelectorAll(".project-image");
  if (!images.length) return;

  images.forEach(img => {
    // 图片距离页面顶部的距离
    const topContentHeight = img.getBoundingClientRect().top + window.scrollY;

    if (topContentHeight < 900) {
      // 如果不足 900px，就强制让图片从 950px 开始
      img.style.marginTop = (950 - topContentHeight) + "px";
    } else {
      // 如果超过 900px，就保持与上方内容 50px 间隔
      img.style.marginTop = "50px";
    }
  });
}

// 页面加载时执行一次
window.addEventListener("load", adjustProjectImage);
// 窗口大小变动时也重算
window.addEventListener("resize", adjustProjectImage);
  </script>
</body>
</html>
